<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="google-site-verification" content="6jvcY_UrCpp1JLjXITf45ljboLU0NDGF16ZqomMt-ls">
  
  <title>腾讯Tars初探 | 个人笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="官网  https://github.com/Tencent/Tars https://github.com/tars-node  本文重点参考  https://github.com/Tencent/Tars/blob/master/Install.md https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md">
<meta name="keywords" content="tars">
<meta property="og:type" content="article">
<meta property="og:title" content="腾讯Tars初探">
<meta property="og:url" content="http://blog.kimq.cn/2018/06/26/tars/index.html">
<meta property="og:site_name" content="个人笔记">
<meta property="og:description" content="官网  https://github.com/Tencent/Tars https://github.com/tars-node  本文重点参考  https://github.com/Tencent/Tars/blob/master/Install.md https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-08-01T09:26:24.731Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="腾讯Tars初探">
<meta name="twitter:description" content="官网  https://github.com/Tencent/Tars https://github.com/tars-node  本文重点参考  https://github.com/Tencent/Tars/blob/master/Install.md https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  

</head>
</html>
<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class=""
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
          <li><a class=""
                 href="/atom.xml">Rss</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">个人笔记</h1>
  
    <p class="lead blog-description">专注互联网</p>
  
</div>

    <div class="row">
        <div class="col-sm-9 blog-main">
          <article id="post-tars" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 class="article-title" itemprop="name">
      腾讯Tars初探
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2018/06/26/tars/" class="article-date"><time datetime="2018-06-26T12:25:07.000Z" itemprop="datePublished">2018-06-26</time></a>
</div>

    
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/源码学习/">源码学习</a>
  </div>


  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>官网</p>
<ol>
<li><a href="https://github.com/Tencent/Tars" target="_blank" rel="noopener">https://github.com/Tencent/Tars</a></li>
<li><a href="https://github.com/tars-node" target="_blank" rel="noopener">https://github.com/tars-node</a></li>
</ol>
<p>本文重点参考</p>
<ol>
<li><a href="https://github.com/Tencent/Tars/blob/master/Install.md" target="_blank" rel="noopener">https://github.com/Tencent/Tars/blob/master/Install.md</a></li>
<li><a href="https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md" target="_blank" rel="noopener">https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md</a></li>
</ol>
<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>下载代码、apt-get安装依赖</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:Tencent/Tars.git</span><br><span class="line">apt-get install flex bison libmysqlclient-dev</span><br></pre></td></tr></table></figure>
<p>安装第三方库<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/thirdparty/thirdparty.sh</span><br></pre></td></tr></table></figure></p>
<p>实际就下载一个<code>rapidjson</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:~/Tars/cpp/thirdparty$ tree -L 2</span><br><span class="line">.</span><br><span class="line">├── rapidjson</span><br><span class="line">│   ├── appveyor.yml</span><br><span class="line">│   ├── bin</span><br><span class="line">│   ├── CHANGELOG.md</span><br><span class="line">│   ├── CMakeLists.txt</span><br><span class="line">│   ├── CMakeModules</span><br><span class="line">│   ├── contrib</span><br><span class="line">│   ├── doc</span><br><span class="line">│   ├── docker</span><br><span class="line">│   ├── example</span><br><span class="line">│   ├── include</span><br><span class="line">│   ├── include_dirs.js</span><br><span class="line">│   ├── library.json</span><br><span class="line">│   ├── license.txt</span><br><span class="line">│   ├── package.json</span><br><span class="line">│   ├── rapidjson.autopkg</span><br><span class="line">│   ├── RapidJSONConfig.cmake.in</span><br><span class="line">│   ├── RapidJSONConfigVersion.cmake.in</span><br><span class="line">│   ├── RapidJSON.pc.in</span><br><span class="line">│   ├── readme.md</span><br><span class="line">│   ├── readme.zh-cn.md</span><br><span class="line">│   ├── <span class="built_in">test</span></span><br><span class="line">│   ├── thirdparty</span><br><span class="line">│   └── travis-doxygen.sh</span><br><span class="line">└── thirdparty.sh</span><br></pre></td></tr></table></figure></p>
<h1 id="编译核心组件-开发库"><a href="#编译核心组件-开发库" class="headerlink" title="编译核心组件/开发库"></a>编译核心组件/开发库</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/build</span><br><span class="line">chmod u+x build.sh</span><br><span class="line">./build.sh all</span><br></pre></td></tr></table></figure>
<p>需要重来，则<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./build.sh cleanall</span><br></pre></td></tr></table></figure></p>
<p>由于ubuntu的mysql库路径和tars默认配置不一致，所以需要在编译前修改CMAKE配置,<code>${TARS_ROOT}/Tars/cpp/build/CmakeLists.txt</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span>(MYSQL_DIR_INC <span class="string">"/usr/include/mysql"</span>)</span><br><span class="line"><span class="built_in">set</span>(MYSQL_DIR_LIB <span class="string">"/usr/lib/x86_64-linux-gnu/"</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="安装开发库"><a href="#安装开发库" class="headerlink" title="安装开发库"></a>安装开发库</h2><p>编译成功之后<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">sudo mkdir tars</span><br><span class="line">sudo chown king:king ./tars/  <span class="comment"># king酌情修改</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/build</span><br><span class="line">./build.sh install</span><br></pre></td></tr></table></figure>
<p>文件内容如下，主要用于Cpp开发（头文件/库）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/usr/<span class="built_in">local</span>/tars$ tree -L 3</span><br><span class="line">.</span><br><span class="line">└── cpp</span><br><span class="line">    ├── include</span><br><span class="line">    │   ├── jmem</span><br><span class="line">    │   ├── promise</span><br><span class="line">    │   ├── servant</span><br><span class="line">    │   ├── tup</span><br><span class="line">    │   └── util</span><br><span class="line">    ├── lib</span><br><span class="line">    │   ├── libtarsparse.a</span><br><span class="line">    │   ├── libtarsservant.a</span><br><span class="line">    │   └── libtarsutil.a</span><br><span class="line">    ├── makefile</span><br><span class="line">    │   └── makefile.tars</span><br><span class="line">    ├── script</span><br><span class="line">    │   ├── create_http_server.sh</span><br><span class="line">    │   ├── create_tars_server.sh</span><br><span class="line">    │   ├── demo</span><br><span class="line">    │   └── http_demo</span><br><span class="line">    └── tools</span><br><span class="line">        ├── tars2android</span><br><span class="line">        ├── tars2c</span><br><span class="line">        ├── tars2cpp</span><br><span class="line">        ├── tars2cs</span><br><span class="line">        ├── tars2node</span><br><span class="line">        ├── tars2oc</span><br><span class="line">        ├── tars2php</span><br><span class="line">        └── tars2python</span><br></pre></td></tr></table></figure>
<h2 id="安装基础服务"><a href="#安装基础服务" class="headerlink" title="安装基础服务"></a>安装基础服务</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/build</span><br><span class="line">make framework-tar</span><br></pre></td></tr></table></figure>
<p>会生成一个<code>framework.tgz</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/app</span><br><span class="line">sudo mkdir tars</span><br><span class="line">sudo chown king:king ./tars/  <span class="comment"># king酌情修改</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/build</span><br><span class="line">cp ./framework.tgz /usr/<span class="built_in">local</span>/app/tars/</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/app/tars</span><br><span class="line">tar xzfv framework.tgz</span><br></pre></td></tr></table></figure>
<p>内容如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/usr/<span class="built_in">local</span>/app/tars$ tree -L 2</span><br><span class="line">.</span><br><span class="line">├── framework.tgz</span><br><span class="line">├── tarsAdminRegistry</span><br><span class="line">│   ├── bin</span><br><span class="line">│   ├── conf</span><br><span class="line">│   └── util</span><br><span class="line">├── tarsconfig</span><br><span class="line">│   ├── bin</span><br><span class="line">│   ├── conf</span><br><span class="line">│   ├── data</span><br><span class="line">│   └── util</span><br><span class="line">├── tars_install.sh</span><br><span class="line">├── tarsnode</span><br><span class="line">│   ├── bin</span><br><span class="line">│   ├── conf</span><br><span class="line">│   ├── data</span><br><span class="line">│   ├── tmp</span><br><span class="line">│   └── util</span><br><span class="line">├── tarsnode_install.sh</span><br><span class="line">├── tarspatch</span><br><span class="line">│   ├── bin</span><br><span class="line">│   ├── conf</span><br><span class="line">│   ├── data</span><br><span class="line">│   └── util</span><br><span class="line">└── tarsregistry</span><br><span class="line">    ├── bin</span><br><span class="line">    ├── conf</span><br><span class="line">    ├── data</span><br><span class="line">    └── util</span><br></pre></td></tr></table></figure>
<h1 id="运行核心基础服务"><a href="#运行核心基础服务" class="headerlink" title="运行核心基础服务"></a>运行核心基础服务</h1><h2 id="准备Mysql"><a href="#准备Mysql" class="headerlink" title="准备Mysql"></a>准备Mysql</h2><p>安装之后<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> db_tars <span class="keyword">default</span> <span class="keyword">charset</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> tars_stat <span class="keyword">default</span> <span class="keyword">charset</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> tars_property <span class="keyword">default</span> <span class="keyword">charset</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br></pre></td></tr></table></figure></p>
<p>修改IP。<code>这里的IP可用域名</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/cpp/framework/sql</span><br><span class="line">sed -i <span class="string">"s/192.168.2.131/192.168.10.6/g"</span> `grep 192.168.2.131 -rl ./*`</span><br><span class="line">sed -i <span class="string">"s/db.tars.com/server/g"</span> `grep db.tars.com -rl ./*`</span><br><span class="line">sed -i <span class="string">"s/tars2015/password/g"</span> `grep tars2015 -rl ./*`</span><br><span class="line">sed -i <span class="string">"s/dbuser=tars/dbuser=user/g"</span> `grep dbuser=tars -rl ./*`</span><br></pre></td></tr></table></figure>
<p>创建表<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/usr/<span class="built_in">local</span>/app/tars$ mysql -uu -pp -hserver db_tars <span class="comment"># user/password酌情修改</span></span><br><span class="line">mysql&gt; <span class="built_in">source</span> ./cpp/framework/sql/db_tars.sql</span><br></pre></td></tr></table></figure></p>
<p>若想使用默认的帐号密码<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CREATE USER <span class="string">'tars'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'tars2015'</span>;</span><br><span class="line">GRANT ALL ON db_tars.* TO <span class="string">'tars'</span>@<span class="string">'%'</span>;</span><br><span class="line">GRANT ALL ON tars_stat.* TO <span class="string">'tars'</span>@<span class="string">'%'</span>;</span><br><span class="line">GRANT ALL ON tars_property.* TO <span class="string">'tars'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure></p>
<h2 id="修改服务配置"><a href="#修改服务配置" class="headerlink" title="修改服务配置"></a>修改服务配置</h2><h3 id="修改IP地址"><a href="#修改IP地址" class="headerlink" title="修改IP地址"></a>修改IP地址</h3><p>因为个人的Mysql没有在本机，所以单独处理</p>
<blockquote>
<p><code>注意原来为IP的地方，不能用域名，否则会bind失败</code>（其实可以改进一下）</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> your_machine_ip=192.168.10.6</span><br><span class="line">sed -i <span class="string">"s/192.168.2.131/<span class="variable">$&#123;your_machine_ip&#125;</span>/g"</span> `grep 192.168.2.131 -rl ./*`</span><br><span class="line">sed -i <span class="string">"s/registry.tars.com/<span class="variable">$&#123;your_machine_ip&#125;</span>/g"</span> `grep registry.tars.com -rl ./*`</span><br><span class="line">sed -i <span class="string">"s/web.tars.com/<span class="variable">$&#123;your_machine_ip&#125;</span>/g"</span> `grep web.tars.com -rl ./*`</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> your_machine_ip=server</span><br><span class="line">sed -i <span class="string">"s/db.tars.com/<span class="variable">$&#123;your_machine_ip&#125;</span>/g"</span> `grep db.tars.com -rl ./*`</span><br></pre></td></tr></table></figure>
<h3 id="修改Mysql帐号密码"><a href="#修改Mysql帐号密码" class="headerlink" title="修改Mysql帐号密码"></a>修改Mysql帐号密码</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/usr/<span class="built_in">local</span>/app/tars$ grep dbuser -rl ./* | grep <span class="string">".conf"</span></span><br><span class="line">./tarsAdminRegistry/conf/adminregistry.conf</span><br><span class="line">./tarsconfig/conf/tarsconfig.conf</span><br><span class="line">./tarsconfig/bin/tarsconfig</span><br><span class="line">./tarsregistry/conf/tarsregistry.conf</span><br></pre></td></tr></table></figure>
<p>Mysql帐号密码通过下列的配置指定</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">db</span>&gt;</span></span><br><span class="line">    charset=utf8</span><br><span class="line">    dbhost=server</span><br><span class="line">    dbname=db_tars</span><br><span class="line">    dbpass=p</span><br><span class="line">    dbport=3306</span><br><span class="line">    dbuser=u</span><br><span class="line"><span class="tag">&lt;/<span class="name">db</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Cd /usr/<span class="built_in">local</span>/app/tars</span><br><span class="line">chmod u+x tars_install.sh</span><br><span class="line"><span class="comment"># 运行基础组件（共五个进程）</span></span><br><span class="line">./tars_install.sh</span><br><span class="line"><span class="comment"># 运行rsync</span></span><br><span class="line">sudo ./tarspatch/util/init.sh</span><br></pre></td></tr></table></figure>
<p>进程如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/app/tars/tarsregistry/bin/tarsregistry --config=/usr/<span class="built_in">local</span>/app/tars/tarsregistry/conf/tarsregistry.conf</span><br><span class="line">/usr/<span class="built_in">local</span>/app/tars/tarsAdminRegistry/bin/tarsAdminRegistry --config=/usr/<span class="built_in">local</span>/app/tars/tarsAdminRegistry/conf/adminregistry.conf</span><br><span class="line">/usr/<span class="built_in">local</span>/app/tars/tarsnode/bin/tarsnode --locator=tars.tarsregistry.QueryObj@tcp -h 192.168.10.6 -p 17890 --config=/usr/<span class="built_in">local</span>/app/tars/tarsnode/conf/tarsnode.conf</span><br><span class="line">/usr/<span class="built_in">local</span>/app/tars/tarsconfig/bin/tarsconfig --config=/usr/<span class="built_in">local</span>/app/tars/tarsconfig/conf/tarsconfig.conf</span><br><span class="line">/usr/<span class="built_in">local</span>/app/tars/tarspatch/bin/tarspatch --config=/usr/<span class="built_in">local</span>/app/tars/tarspatch/conf/tarspatch.conf</span><br></pre></td></tr></table></figure>
<h1 id="运行前端"><a href="#运行前端" class="headerlink" title="运行前端"></a>运行前端</h1><h2 id="准备Java-client"><a href="#准备Java-client" class="headerlink" title="准备Java client"></a>准备Java client</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/java</span><br><span class="line">mvn clean install </span><br><span class="line">mvn clean install -f core/client.pom.xml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这一步不需要，应该是用于Java开发的，类似于C++的include/lib</span></span><br><span class="line">mvn clean install -f core/server.pom.xml</span><br></pre></td></tr></table></figure>
<p>编译之后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:~/Tars/java$ ls ~/.m2/repository/com/tencent/tars/tars-client/</span><br><span class="line">1.4.0  maven-metadata-local.xml</span><br></pre></td></tr></table></figure>
<h2 id="编译前端"><a href="#编译前端" class="headerlink" title="编译前端"></a>编译前端</h2><p>切换到目录<code>${TARS_ROOT}/Tars/web/src/main/resources</code></p>
<p>修改 <code>app.config.properties</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># server为mysql地址</span></span><br><span class="line">tarsweb.datasource.tars.addr=server:3306</span><br><span class="line">tarsweb.datasource.tars.user=u</span><br><span class="line">tarsweb.datasource.tars.pswd=p</span><br></pre></td></tr></table></figure></p>
<p>maven打包<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn clean package</span><br></pre></td></tr></table></figure></p>
<p>增加<code>/etc/hosts</code> （注意不是127.0.0.1）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">192.168.10.6 registry1.tars.com                                                    </span><br><span class="line">192.168.10.6 registry2.tars.com</span><br></pre></td></tr></table></figure>
<p>若找不到依赖 qq-cloud-central</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:~/Tars/web$ diff pom.xml pom.xml.bak </span><br><span class="line">diff pom.xml.bak pom.xml</span><br><span class="line">82c82</span><br><span class="line">&lt; 			&lt;groupId&gt;qq-cloud-central&lt;/groupId&gt;</span><br><span class="line">---</span><br><span class="line">&gt; 			&lt;groupId&gt;com.tencent.tars&lt;/groupId&gt;</span><br><span class="line">84c84</span><br><span class="line">&lt; 			&lt;version&gt;1.0.3&lt;/version&gt;</span><br><span class="line">---</span><br><span class="line">&gt; 			&lt;version&gt;1.4.0&lt;/version&gt;</span><br></pre></td></tr></table></figure>
<h2 id="resin运行"><a href="#resin运行" class="headerlink" title="resin运行"></a>resin运行</h2><p>下载<a href="http://caucho.com/download/resin-4.0.56.tar.gz" target="_blank" rel="noopener">http://caucho.com/download/resin-4.0.56.tar.gz</a> 解压到<code>/usr/local/app/resin</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;TARS_ROOT&#125;</span>/Tars/web/</span><br><span class="line">cp ./target/tars.war /usr/<span class="built_in">local</span>/app/resin/webapps/</span><br></pre></td></tr></table></figure>
<p>修改conf/resin.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">host</span> <span class="attr">id</span>=<span class="string">""</span> <span class="attr">root-directory</span>=<span class="string">"."</span>&gt;</span></span><br><span class="line">    &lt;--  &lt;web-app id="/" root-directory="webapps/ROOT"/&gt; --&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">web-app</span> <span class="attr">id</span>=<span class="string">"/"</span> <span class="attr">document-directory</span>=<span class="string">"webapps/tars"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir -p /data/<span class="built_in">log</span>/tars</span><br><span class="line">/usr/<span class="built_in">local</span>/app/resin/bin/resin.sh start</span><br></pre></td></tr></table></figure>
<p>进程如下</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/lib/jvm/jdk1.8.0_111/bin/java -Dresin.watchdog=app-0 -Djava.util.logging.manager=com.caucho.log.LogManagerIm</span><br><span class="line">     usr/lib/jvm/jdk1.8.0_111/bin/java -Dresin.server=app-0 -Djava.util.logging.manager=com.caucho.log.LogManager</span><br></pre></td></tr></table></figure>
<h2 id="发布可选组件"><a href="#发布可选组件" class="headerlink" title="发布可选组件"></a>发布可选组件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 其他服务</span></span><br><span class="line">make tarsstat-tar</span><br><span class="line">make tarsnotify-tar</span><br><span class="line">make tarsproperty-tar</span><br><span class="line">make tarslog-tar</span><br><span class="line">make tarsquerystat-tar</span><br><span class="line">make tarsqueryproperty-tar</span><br></pre></td></tr></table></figure>
<p>安装framework之后，tarsnotify会跑步起来，需要将上面步骤发布的tarsnotify-tar发布上去</p>
<p>接下来可以将剩余的5个也发布上去</p>
<h1 id="Cpp-Hello-world"><a href="#Cpp-Hello-world" class="headerlink" title="Cpp Hello world"></a>Cpp Hello world</h1><p>生成server</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/usr/local/tars/cpp/script/create_tars_server.sh TestApp HelloServer Hello</span><br></pre></td></tr></table></figure>
<p>在Ubuntu有报错，rename不了，参见文末[问题]集锦</p>
<p>生成接口头文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/tars/cpp/tools/tars2cpp Hello.tars</span><br><span class="line">make</span><br><span class="line">make tar</span><br></pre></td></tr></table></figure>
<p>make tar 会生成.tgz包，用于上传发布到tars平台</p>
<p>可以按照<a href="https://github.com/Tencent/Tars/blob/master/docs/tars_cpp_quickstart.md" target="_blank" rel="noopener">tars_cpp_quickstart</a> 增加一个带参数的接口</p>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>创建目录[/home/tarsproto/],<em>必须这个，有点恶心</em>，在后回到刚刚服务器源码的目录，例如[/usr/local/tars/TestApp/HelloServer]<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make release</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/home/tarsproto/TestApp/HelloServer$ tree -L 2</span><br><span class="line">.</span><br><span class="line">├── Hello.h</span><br><span class="line">├── HelloServer.mk</span><br><span class="line">├── Hello.tars</span><br><span class="line">└── makefile</span><br><span class="line"></span><br><span class="line">0 directories, 4 files</span><br></pre></td></tr></table></figure>
<p>这些内容用于客户端引用</p>
<p>按照步骤继续添加可执行程序源码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/home/tarsproto/TestApp/TestHelloClient$ tree</span><br><span class="line">.</span><br><span class="line">├── main.cpp</span><br><span class="line">├── makefile</span><br><span class="line"></span><br><span class="line">0 directories, 2 files</span><br></pre></td></tr></table></figure>
<p>注意修改IP地址</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> ** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Communicator comm;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        HelloPrx prx;</span><br><span class="line">        comm.stringToProxy(<span class="string">"TestApp.HelloServer.HelloObj@tcp -h 192.168.10.6 -p 20001"</span> , prx);</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>
<p>运行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">king@king:/home/tarsproto/TestApp/TestHelloClient$ ./TestHelloClient </span><br><span class="line">2018-06-26 15:22:52|CommunicatorEpoll::run id:12838</span><br><span class="line">iRet:0 sReq:hello world sRsp:hello world</span><br></pre></td></tr></table></figure></p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="访问http-127-0-0-1-8080报错"><a href="#访问http-127-0-0-1-8080报错" class="headerlink" title="访问http://127.0.0.1:8080报错"></a>访问<a href="http://127.0.0.1:8080报错" target="_blank" rel="noopener">http://127.0.0.1:8080报错</a></h2><p>NoClassDefFoundError: org/apache/log4j/spi/ThrowableInformation</p>
<p>修改${TARS_ROOT}/Tars/java/core/client.pom.xml，增加下列依赖<br><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="mysql时间搓错误"><a href="#mysql时间搓错误" class="headerlink" title="mysql时间搓错误"></a>mysql时间搓错误</h2><p>Error updating database.  Cause: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect datetime value: ‘0000:00:00 00:00:00’ for column ‘patch_time’ at row 1↵### The error may involve defaultParameterMap</p>
<p><code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>  去掉<code>NO_ZERO_DATE</code>选项<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sql_mode = <span class="string">"ONLY_FULL_GROUP_BY"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="文件发布上传文件失败"><a href="#文件发布上传文件失败" class="headerlink" title="文件发布上传文件失败"></a>文件发布上传文件失败</h2><p>检查文件/目录权限</p>
<h2 id="tarsnotify-inactive"><a href="#tarsnotify-inactive" class="headerlink" title="tarsnotify inactive"></a>tarsnotify inactive</h2><p>需要手动发布 <code>tarsnotify-tar</code>（另外还有五个可选组件）</p>
<h2 id="生成hello-world失败"><a href="#生成hello-world失败" class="headerlink" title="生成hello world失败"></a>生成hello world失败</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Bareword <span class="string">"DemoServer"</span> not allowed <span class="keyword">while</span> <span class="string">"strict subs"</span> <span class="keyword">in</span> use at</span><br></pre></td></tr></table></figure>
<p>参考 <a href="http://haoningabc.iteye.com/blog/1688936" target="_blank" rel="noopener">http://haoningabc.iteye.com/blog/1688936</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#rename "DemoServer" "$SERVER" $SRC_FILE  </span></span><br><span class="line">rename <span class="string">"s/DemoServer/<span class="variable">$SERVER</span>/"</span> <span class="variable">$SRC_FILE</span>  </span><br><span class="line"><span class="comment">#rename "DemoServant" "$SERVANT" $SRC_FILE  </span></span><br><span class="line">rename <span class="string">"s/DemoServant/<span class="variable">$SERVANT</span>/"</span> <span class="variable">$SRC_FILE</span></span><br></pre></td></tr></table></figure>
<h2 id="编译Hello-world报错"><a href="#编译Hello-world报错" class="headerlink" title="编译Hello world报错"></a>编译Hello world报错</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/include/c++/5/bits/c++0x_warning.h:32:2: error: <span class="comment">#error This file requires compiler</span></span><br></pre></td></tr></table></figure>
<p>修改当前目录makeifle，<code>TARS2CPP_FLAG</code>增加<code>c11</code>支持<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">TARS2CPP_FLAG:= -std=c++11</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://blog.kimq.cn/2018/06/26/tars/" data-id="ckdbgbyy5005r43pojbdbs7mf" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
        <a href="http://blog.kimq.cn/2018/06/26/tars/#disqus_thread" class="article-comment-link">
          <i class="fa fa-comment"></i> Comments
        </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tars/">tars</a></li></ul>


    </footer>
  </div>
  
    
<ul id="article-nav" class="nav nav-pills nav-justified">
  
  <li role="presentation">
    <a href="/2018/05/28/oauth/" id="article-nav-older" class="article-nav-link-wrap">
      <i class="fa fa-chevron-left pull-left"></i>
      <span class="article-nav-link-title">GO Oauth2/OIDC客户端/服务器</span>
    </a>
  </li>
  
  
  <li role="presentation">
    <a href="/2018/07/16/go-defer-param-order/" id="article-nav-newer" class="article-nav-link-wrap">
      <span class="article-nav-link-title">Golang defer的坑,以及函数执行顺序差异</span>
      <i class="fa fa-chevron-right pull-right"></i>
    </a>
  </li>
  
</ul>


  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>



        </div>
        <div class="col-sm-2 col-sm-offset-1 blog-sidebar">
          
  
  <div class="sidebar-module">
    <h4>Categories</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Golang/">Golang</a><span class="sidebar-module-list-count">14</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Openldap/">Openldap</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/Python/">Python</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/后端/">后端</a><span class="sidebar-module-list-count">11</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/学习笔记/">学习笔记</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/开发环境/">开发环境</a><span class="sidebar-module-list-count">13</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/源码学习/">源码学习</a><span class="sidebar-module-list-count">9</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/环境搭建/">环境搭建</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/运营运维/">运营运维</a><span class="sidebar-module-list-count">10</span><ul class="sidebar-module-list-child"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/运营运维/代理/">代理</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/categories/运营运维/网站/">网站</a><span class="sidebar-module-list-count">1</span></li></ul></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ansible/">ansible</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/antd/">antd</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/cookie/">cookie</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/cors/">cors</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/crsf/">crsf</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/docker/">docker</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/drone/">drone</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/flask/">flask</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/git/">git</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/github/">github</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/gitlab/">gitlab</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/golang/">golang</a><span class="sidebar-module-list-count">27</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/gorm/">gorm</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/grpc/">grpc</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/hexo/">hexo</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/influxdb/">influxdb</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jsonp/">jsonp</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/jsonschema/">jsonschema</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/kibana/">kibana</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/martini/">martini</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/nginx/">nginx</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ngrok/">ngrok</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/node/">node</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/openldap/">openldap</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/pip/">pip</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/proxy/">proxy</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/python/">python</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/redis/">redis</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/sentry/">sentry</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/sqlalchemy/">sqlalchemy</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/ssh/">ssh</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/sso/">sso</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/tars/">tars</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/tavern/">tavern</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/travis/">travis</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/uml/">uml</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/wcgi/">wcgi</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/xss/">xss</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/一致性hash/">一致性hash</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/持续集成/">持续集成</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/盗链/">盗链</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/签名/">签名</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/证书/">证书</a><span class="sidebar-module-list-count">2</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/tags/antd/" style="font-size: 10px;">antd</a> <a href="/tags/cookie/" style="font-size: 11.67px;">cookie</a> <a href="/tags/cors/" style="font-size: 10px;">cors</a> <a href="/tags/crsf/" style="font-size: 10px;">crsf</a> <a href="/tags/docker/" style="font-size: 13.33px;">docker</a> <a href="/tags/drone/" style="font-size: 16.67px;">drone</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/flask/" style="font-size: 11.67px;">flask</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/gitlab/" style="font-size: 11.67px;">gitlab</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/gorm/" style="font-size: 10px;">gorm</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/influxdb/" style="font-size: 10px;">influxdb</a> <a href="/tags/jsonp/" style="font-size: 10px;">jsonp</a> <a href="/tags/jsonschema/" style="font-size: 10px;">jsonschema</a> <a href="/tags/kibana/" style="font-size: 10px;">kibana</a> <a href="/tags/martini/" style="font-size: 10px;">martini</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/ngrok/" style="font-size: 11.67px;">ngrok</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/openldap/" style="font-size: 13.33px;">openldap</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/proxy/" style="font-size: 13.33px;">proxy</a> <a href="/tags/python/" style="font-size: 11.67px;">python</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/sentry/" style="font-size: 11.67px;">sentry</a> <a href="/tags/sqlalchemy/" style="font-size: 10px;">sqlalchemy</a> <a href="/tags/ssh/" style="font-size: 11.67px;">ssh</a> <a href="/tags/sso/" style="font-size: 10px;">sso</a> <a href="/tags/tars/" style="font-size: 10px;">tars</a> <a href="/tags/tavern/" style="font-size: 10px;">tavern</a> <a href="/tags/travis/" style="font-size: 10px;">travis</a> <a href="/tags/uml/" style="font-size: 10px;">uml</a> <a href="/tags/wcgi/" style="font-size: 10px;">wcgi</a> <a href="/tags/xss/" style="font-size: 10px;">xss</a> <a href="/tags/一致性hash/" style="font-size: 10px;">一致性hash</a> <a href="/tags/持续集成/" style="font-size: 18.33px;">持续集成</a> <a href="/tags/盗链/" style="font-size: 10px;">盗链</a> <a href="/tags/签名/" style="font-size: 11.67px;">签名</a> <a href="/tags/证书/" style="font-size: 11.67px;">证书</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/08/">八月 2020</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/06/">六月 2020</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/03/">三月 2020</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/02/">二月 2020</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2020/01/">一月 2020</a><span class="sidebar-module-list-count">6</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/07/">七月 2018</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/06/">六月 2018</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2018/05/">五月 2018</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/12/">十二月 2017</a><span class="sidebar-module-list-count">5</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/10/">十月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/08/">八月 2017</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/07/">七月 2017</a><span class="sidebar-module-list-count">8</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/06/">六月 2017</a><span class="sidebar-module-list-count">7</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/04/">四月 2017</a><span class="sidebar-module-list-count">4</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/03/">三月 2017</a><span class="sidebar-module-list-count">10</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/02/">二月 2017</a><span class="sidebar-module-list-count">10</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2020/08/01/gitlab-sentry/">gitlab/sentry集成</a>
        </li>
      
        <li>
          <a href="/2020/06/10/ansible/">Ansible实践</a>
        </li>
      
        <li>
          <a href="/2020/03/08/elasticsearch_basic/">ElasticSearch学习笔记</a>
        </li>
      
        <li>
          <a href="/2020/02/29/jaeger_basic/">Jaeger初探</a>
        </li>
      
        <li>
          <a href="/2020/02/20/tavern/">ResfulApi测试框架tavern</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2020 KingQiu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      <br/>
      CopyRight © 2019 <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备19068003号</a>
    </div>
  </div>
</footer>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

  
<script>
  var disqus_shortname = 'blog-qiujinwu-com';
  
  var disqus_url = 'http://blog.kimq.cn/2018/06/26/tars/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js" crossorigin="anonymous"></script>

<script src="http://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>

</body>
</html>
