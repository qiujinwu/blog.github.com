---
title: Golang第三方工具
date: 2017-8-20 21:36:58
tags:
 - golang
categories:
 - Golang
---

# [360EntSecGroup-Skylar/goreporter](https://github.com/360EntSecGroup-Skylar/goreporter)

A Golang tool that does static analysis, unit testing, code review and generate code quality report.
``` bash
go get -u github.com/360EntSecGroup-Skylar/goreporter
```

安装之后，为了支持生成图表，需要
``` bash
sudo apt-get install graphviz
```

## 运行
由于[360EntSecGroup-Skylar/goreporter](https://github.com/360EntSecGroup-Skylar/goreporter) 不会自动查找和排除vendor目录，所以这里取巧，将vendor/src做一个软连接到vendor目录
``` bash
ln -s github.com/qjw/git-notify/vendor/ github.com/qjw/git-notify/vendor/src
# html结果文件在当前目录，可以参数另行指定
./goreporter  -p ../src/github.com/qjw/git-notify/ -e ../src/github.com/qjw/git-notify/vendor/  -f html
```

感觉没有什么比较有价值的东西，生成的报表界面倒是挺好看

# [stringer](https://godoc.org/golang.org/x/tools/cmd/stringer)

根据一个（ unsigned ）int的别名生成fmt.Stringer接口的方法

> Stringer is a tool to automate the creation of methods that satisfy the fmt.Stringer interface. Given the name of a (signed or unsigned) integer type T that has constants defined, stringer will create a new self-contained Go source file implementing

``` bash
go get golang.org/x/tools/cmd/stringer
```
安装完了会编译出一个stringer命令，在**$GOPATH/bin**

待生成方法的int别名Pill
``` go
package painkiller

type Pill int

const (
	Placebo Pill = iota
	Aspirin
	Ibuprofen
	Paracetamol
	Acetaminophen = Paracetamol
)
```

运行命令
``` bash
stringer -type=Pill
```

结果
``` go
// Code generated by "stringer -type=Pill"; DO NOT EDIT.

package painkiller

import "fmt"

const _Pill_name = "PlaceboAspirinIbuprofenParacetamol"

var _Pill_index = [...]uint8{0, 7, 14, 23, 34}

func (i Pill) String() string {
	if i < 0 || i >= Pill(len(_Pill_index)-1) {
		return fmt.Sprintf("Pill(%d)", i)
	}
	return _Pill_name[_Pill_index[i]:_Pill_index[i+1]]
}
```